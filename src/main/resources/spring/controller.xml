<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <import resource="view.xml"/>
    <import resource="service.xml"/>

    <bean id="addNewCustomerController" class="org.academiadecodigo.javabank.controller.customer.AddNewCustomerController">
        <constructor-arg name="customerService" ref="jpaCustomerService"/>
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="addNewCustomerPromptView"/>
    </bean>

    <bean id="showCustomerController" class="org.academiadecodigo.javabank.controller.customer.ShowCustomerController">
        <constructor-arg name="customerService" ref="jpaCustomerService"/>
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="showCustomerPromptView"/>
    </bean>

    <bean id="removeCustomerController" class="org.academiadecodigo.javabank.controller.customer.RemoveCustomerController">
        <constructor-arg name="customerService" ref="jpaCustomerService"/>
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="removeCustomerPromptView"/>
    </bean>

    <bean id="mainMenuController" class="org.academiadecodigo.javabank.controller.menu.MainMenuController">
        <constructor-arg name="customerService" ref="jpaCustomerService"/>
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="menuMap">
            <map>
                <entry key="1" value-ref="addNewCustomerController"/>
                <entry key="2" value-ref="showCustomerController"/>
                <entry key="3" value-ref="editCustomerMenuController"/>
                <entry key="4" value-ref="removeCustomerController"/>
            </map>
        </property>
        <property name="view" ref="mainMenuView"/>
    </bean>

    <bean id="addAccountController" class="org.academiadecodigo.javabank.controller.account.AddAccountController">
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="addAccountPromptView"/>
    </bean>

    <bean id="closeAccountController" class="org.academiadecodigo.javabank.controller.account.CloseAccountController">
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="closeAccountPromptView"/>
    </bean>

    <bean id="showAccountController" class="org.academiadecodigo.javabank.controller.account.ShowAccountController">
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="showAccountPromptView"/>
    </bean>

    <bean id="transferMoneyController" class="org.academiadecodigo.javabank.controller.account.TransferMoneyController">
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <constructor-arg name="customerService" ref="jpaCustomerService"/>
        <property name="view" ref="transferMoneyPromptView"/>
    </bean>

    <bean id="depositMoneyController" class="org.academiadecodigo.javabank.controller.account.DepositMoneyController">
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="depositMoneyPromptView"/>
    </bean>

    <bean id="withdrawMoneyController" class="org.academiadecodigo.javabank.controller.account.WithdrawMoneyController">
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="view" ref="withdrawMoneyPromptView"/>
    </bean>

    <bean id="editCustomerMenuController" class="org.academiadecodigo.javabank.controller.menu.EditCustomerMenuController">
        <constructor-arg name="customerService" ref="jpaCustomerService"/>
        <constructor-arg name="accountService" ref="jpaAccountService"/>
        <constructor-arg name="authenticationService" ref="jpaAuthenticationService"/>
        <property name="menuMap">
            <map>
                <entry key="1" value-ref="addAccountController"/>
                <entry key="2" value-ref="closeAccountController"/>
                <entry key="3" value-ref="showAccountController"/>
                <entry key="4" value-ref="transferMoneyController"/>
                <entry key="5" value-ref="depositMoneyController"/>
                <entry key="6" value-ref="withdrawMoneyController"/>
            </map>
        </property>
        <property name="view" ref="editCustomerMenuView"/>
    </bean>
</beans>